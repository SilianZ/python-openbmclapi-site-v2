---
title: 配置
sidebar_position: 2
---

```mdx-code-block
import Asciinema from "@site/src/components/Asciinema";
```

1. 运行一次主程序生成配置文件：

   :::info

   如果你使用 Poetry 安装依赖，你需要先激活虚拟环境。

   ```sh
   poetry shell
   ```

   ```mdx-code-block
   <Asciinema
   url="https://asciinema.org/a/674764.cast"
   options={{
       theme: "monokai",
       poster: "npt:21.5",
       cols: 100,
       rows: 30,
       idleTimeLimit: 0.2,
   }}
   />
   ```

   :::

   ```sh
   python main.py
   ```

   ```mdx-code-block
   <Asciinema
   url="https://asciinema.org/a/655202.cast"
   options={{
       theme: "monokai",
       poster: "npt:21.5",
       cols: 100,
       rows: 30,
       idleTimeLimit: 0.2,
   }}
   />
   ```

   如果你看到以下报错信息：`core.exceptions.ClusterIdNotSet`，恭喜你！你可以进行下一步的配置了。

2. 在 `config/config.yml` 中，填写你的 `id`（即 `CLUSTER_ID`）和 `secret`（即 `CLUSTER_SECRET`）。

   ```yml title="config/config.yml" {3,6}
   cluster:
     byoc: false
     id: '' # OpenBMCLAPI 的 CLUSTER_ID
     public_host: ''
     ...
     secret: '' # OpenBMCLAPI 的 CLUSTER_SECRET
     skip_sign: false
   ```

3. 重新启动程序以应用最新配置。
